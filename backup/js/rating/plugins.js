;
/*!
* Bootstrap v3.3.5 (http://getbootstrap.com)
* Copyright 2011-2015 Twitter, Inc.
* Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
*/

/*!
* Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=f5b888c2ef8b2811d65c)
* Config saved to config.json and https://gist.github.com/f5b888c2ef8b2811d65c
*/
if ("undefined" == typeof jQuery) throw new Error("Bootstrap's JavaScript requires jQuery"); +function (t) { "use strict"; var e = t.fn.jquery.split(" ")[0].split("."); if (e[0] < 2 && e[1] < 9 || 1 == e[0] && 9 == e[1] && e[2] < 1 || e[0] > 2) throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3") } (jQuery), +function (t) { "use strict"; function e(e) { return this.each(function () { var n = t(this), i = n.data("bs.tab"); i || n.data("bs.tab", i = new a(this)), "string" == typeof e && i[e]() }) } var a = function (e) { this.element = t(e) }; a.VERSION = "3.3.6", a.TRANSITION_DURATION = 150, a.prototype.show = function () { var e = this.element, a = e.closest("ul:not(.dropdown-menu)"), n = e.data("target"); if (n || (n = e.attr("href"), n = n && n.replace(/.*(?=#[^\s]*$)/, "")), !e.parent("li").hasClass("active")) { var i = a.find(".active:last a"), s = t.Event("hide.bs.tab", { relatedTarget: e[0] }), r = t.Event("show.bs.tab", { relatedTarget: i[0] }); if (i.trigger(s), e.trigger(r), !r.isDefaultPrevented() && !s.isDefaultPrevented()) { var o = t(n); this.activate(e.closest("li"), a), this.activate(o, o.parent(), function () { i.trigger({ type: "hidden.bs.tab", relatedTarget: e[0] }), e.trigger({ type: "shown.bs.tab", relatedTarget: i[0] }) }) } } }, a.prototype.activate = function (e, n, i) { function s() { r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1), e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0), o ? (e[0].offsetWidth, e.addClass("in")) : e.removeClass("fade"), e.parent(".dropdown-menu").length && e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0), i && i() } var r = n.find("> .active"), o = i && t.support.transition && (r.length && r.hasClass("fade") || !!n.find("> .fade").length); r.length && o ? r.one("bsTransitionEnd", s).emulateTransitionEnd(a.TRANSITION_DURATION) : s(), r.removeClass("in") }; var n = t.fn.tab; t.fn.tab = e, t.fn.tab.Constructor = a, t.fn.tab.noConflict = function () { return t.fn.tab = n, this }; var i = function (a) { a.preventDefault(), e.call(t(this), "show") }; t(document).on("click.bs.tab.data-api", '[data-toggle="tab"]', i).on("click.bs.tab.data-api", '[data-toggle="pill"]', i) } (jQuery), +function (t) { "use strict"; function e(e) { var a, n = e.attr("data-target") || (a = e.attr("href")) && a.replace(/.*(?=#[^\s]+$)/, ""); return t(n) } function a(e) { return this.each(function () { var a = t(this), i = a.data("bs.collapse"), s = t.extend({}, n.DEFAULTS, a.data(), "object" == typeof e && e); !i && s.toggle && /show|hide/.test(e) && (s.toggle = !1), i || a.data("bs.collapse", i = new n(this, s)), "string" == typeof e && i[e]() }) } var n = function (e, a) { this.$element = t(e), this.options = t.extend({}, n.DEFAULTS, a), this.$trigger = t('[data-toggle="collapse"][href="#' + e.id + '"],[data-toggle="collapse"][data-target="#' + e.id + '"]'), this.transitioning = null, this.options.parent ? this.$parent = this.getParent() : this.addAriaAndCollapsedClass(this.$element, this.$trigger), this.options.toggle && this.toggle() }; n.VERSION = "3.3.6", n.TRANSITION_DURATION = 350, n.DEFAULTS = { toggle: !0 }, n.prototype.dimension = function () { var t = this.$element.hasClass("width"); return t ? "width" : "height" }, n.prototype.show = function () { if (!this.transitioning && !this.$element.hasClass("in")) { var e, i = this.$parent && this.$parent.children(".panel").children(".in, .collapsing"); if (!(i && i.length && (e = i.data("bs.collapse"), e && e.transitioning))) { var s = t.Event("show.bs.collapse"); if (this.$element.trigger(s), !s.isDefaultPrevented()) { i && i.length && (a.call(i, "hide"), e || i.data("bs.collapse", null)); var r = this.dimension(); this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded", !0), this.$trigger.removeClass("collapsed").attr("aria-expanded", !0), this.transitioning = 1; var o = function () { this.$element.removeClass("collapsing").addClass("collapse in")[r](""), this.transitioning = 0, this.$element.trigger("shown.bs.collapse") }; if (!t.support.transition) return o.call(this); var l = t.camelCase(["scroll", r].join("-")); this.$element.one("bsTransitionEnd", t.proxy(o, this)).emulateTransitionEnd(n.TRANSITION_DURATION)[r](this.$element[0][l]) } } } }, n.prototype.hide = function () { if (!this.transitioning && this.$element.hasClass("in")) { var e = t.Event("hide.bs.collapse"); if (this.$element.trigger(e), !e.isDefaultPrevented()) { var a = this.dimension(); this.$element[a](this.$element[a]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded", !1), this.$trigger.addClass("collapsed").attr("aria-expanded", !1), this.transitioning = 1; var i = function () { this.transitioning = 0, this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse") }; return t.support.transition ? void this.$element[a](0).one("bsTransitionEnd", t.proxy(i, this)).emulateTransitionEnd(n.TRANSITION_DURATION) : i.call(this) } } }, n.prototype.toggle = function () { this[this.$element.hasClass("in") ? "hide" : "show"]() }, n.prototype.getParent = function () { return t(this.options.parent).find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]').each(t.proxy(function (a, n) { var i = t(n); this.addAriaAndCollapsedClass(e(i), i) }, this)).end() }, n.prototype.addAriaAndCollapsedClass = function (t, e) { var a = t.hasClass("in"); t.attr("aria-expanded", a), e.toggleClass("collapsed", !a).attr("aria-expanded", a) }; var i = t.fn.collapse; t.fn.collapse = a, t.fn.collapse.Constructor = n, t.fn.collapse.noConflict = function () { return t.fn.collapse = i, this }, t(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function (n) { var i = t(this); i.attr("data-target") || n.preventDefault(); var s = e(i), r = s.data("bs.collapse"), o = r ? "toggle" : i.data(); a.call(s, o) }) } (jQuery), +function (t) { "use strict"; function e() { var t = document.createElement("bootstrap"), e = { WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "oTransitionEnd otransitionend", transition: "transitionend" }; for (var a in e) if (void 0 !== t.style[a]) return { end: e[a] }; return !1 } t.fn.emulateTransitionEnd = function (e) { var a = !1, n = this; t(this).one("bsTransitionEnd", function () { a = !0 }); var i = function () { a || t(n).trigger(t.support.transition.end) }; return setTimeout(i, e), this }, t(function () { t.support.transition = e(), t.support.transition && (t.event.special.bsTransitionEnd = { bindType: t.support.transition.end, delegateType: t.support.transition.end, handle: function (e) { return t(e.target).is(this) ? e.handleObj.handler.apply(this, arguments) : void 0 } }) }) } (jQuery);


/*! Lazy Load 1.9.7 - MIT license - Copyright 2010-2015 Mika Tuupola */
!function (a, b, c, d) { var e = a(b); a.fn.lazyload = function (f) { function g() { var b = 0; i.each(function () { var c = a(this); if (!j.skip_invisible || c.is(":visible")) if (a.abovethetop(this, j) || a.leftofbegin(this, j)); else if (a.belowthefold(this, j) || a.rightoffold(this, j)) { if (++b > j.failure_limit) return !1 } else c.trigger("appear"), b = 0 }) } var h, i = this, j = { threshold: 0, failure_limit: 0, event: "scroll", effect: "show", container: b, data_attribute: "original", skip_invisible: !1, appear: null, load: null, placeholder: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC" }; return f && (d !== f.failurelimit && (f.failure_limit = f.failurelimit, delete f.failurelimit), d !== f.effectspeed && (f.effect_speed = f.effectspeed, delete f.effectspeed), a.extend(j, f)), h = j.container === d || j.container === b ? e : a(j.container), 0 === j.event.indexOf("scroll") && h.bind(j.event, function () { return g() }), this.each(function () { var b = this, c = a(b); b.loaded = !1, (c.attr("src") === d || c.attr("src") === !1) && c.is("img") && c.attr("src", j.placeholder), c.one("appear", function () { if (!this.loaded) { if (j.appear) { var d = i.length; j.appear.call(b, d, j) } a("<img />").bind("load", function () { var d = c.attr("data-" + j.data_attribute); c.hide(), c.is("img") ? c.attr("src", d) : c.css("background-image", "url('" + d + "')"), c[j.effect](j.effect_speed), b.loaded = !0; var e = a.grep(i, function (a) { return !a.loaded }); if (i = a(e), j.load) { var f = i.length; j.load.call(b, f, j) } }).attr("src", c.attr("data-" + j.data_attribute)) } }), 0 !== j.event.indexOf("scroll") && c.bind(j.event, function () { b.loaded || c.trigger("appear") }) }), e.bind("resize", function () { g() }), /(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion) && e.bind("pageshow", function (b) { b.originalEvent && b.originalEvent.persisted && i.each(function () { a(this).trigger("appear") }) }), a(c).ready(function () { g() }), this }, a.belowthefold = function (c, f) { var g; return g = f.container === d || f.container === b ? (b.innerHeight ? b.innerHeight : e.height()) + e.scrollTop() : a(f.container).offset().top + a(f.container).height(), g <= a(c).offset().top - f.threshold }, a.rightoffold = function (c, f) { var g; return g = f.container === d || f.container === b ? e.width() + e.scrollLeft() : a(f.container).offset().left + a(f.container).width(), g <= a(c).offset().left - f.threshold }, a.abovethetop = function (c, f) { var g; return g = f.container === d || f.container === b ? e.scrollTop() : a(f.container).offset().top, g >= a(c).offset().top + f.threshold + a(c).height() }, a.leftofbegin = function (c, f) { var g; return g = f.container === d || f.container === b ? e.scrollLeft() : a(f.container).offset().left, g >= a(c).offset().left + f.threshold + a(c).width() }, a.inviewport = function (b, c) { return !(a.rightoffold(b, c) || a.leftofbegin(b, c) || a.belowthefold(b, c) || a.abovethetop(b, c)) }, a.extend(a.expr[":"], { "below-the-fold": function (b) { return a.belowthefold(b, { threshold: 0 }) }, "above-the-top": function (b) { return !a.belowthefold(b, { threshold: 0 }) }, "right-of-screen": function (b) { return a.rightoffold(b, { threshold: 0 }) }, "left-of-screen": function (b) { return !a.rightoffold(b, { threshold: 0 }) }, "in-viewport": function (b) { return a.inviewport(b, { threshold: 0 }) }, "above-the-fold": function (b) { return !a.belowthefold(b, { threshold: 0 }) }, "right-of-fold": function (b) { return a.rightoffold(b, { threshold: 0 }) }, "left-of-fold": function (b) { return !a.rightoffold(b, { threshold: 0 }) } }) } (jQuery, window, document);

/*!
* jQuery Raty - A Star Rating Plugin
*
* Licensed under The MIT License
*
* @version        2.4.5
* @author         Washington Botelho
* @documentation  wbotelhos.com/raty
* 
*/
(function (b) { var a = { init: function (c) { return this.each(function () { var d = this, h = b(d).empty(); d.opt = b.extend(true, {}, b.fn.raty.defaults, c); h.data("settings", d.opt); d.opt.number = a.between(d.opt.number, 0, 20); if (d.opt.path.substring(d.opt.path.length - 1, d.opt.path.length) != "/") { d.opt.path += "/"; } if (typeof d.opt.score == "function") { d.opt.score = d.opt.score.call(d); } if (d.opt.score) { d.opt.score = a.between(d.opt.score, 0, d.opt.number); } for (var e = 1; e <= d.opt.number; e++) { b("<img />", { src: d.opt.path + ((!d.opt.score || d.opt.score < e) ? d.opt.starOff : d.opt.starOn), alt: e, title: (e <= d.opt.hints.length && d.opt.hints[e - 1] !== null) ? d.opt.hints[e - 1] : e }).appendTo(d); if (d.opt.space) { h.append((e < d.opt.number) ? "&#160;" : ""); } } d.stars = h.children('img:not(".raty-cancel")'); d.score = b("<input />", { type: "hidden", name: d.opt.scoreName }).appendTo(d); if (d.opt.score && d.opt.score > 0) { d.score.val(d.opt.score); a.roundStar.call(d, d.opt.score); } if (d.opt.iconRange) { a.fill.call(d, d.opt.score); } a.setTarget.call(d, d.opt.score, d.opt.targetKeep); var g = d.opt.space ? 4 : 0, f = d.opt.width || (d.opt.number * d.opt.size + d.opt.number * g); if (d.opt.cancel) { d.cancel = b("<img />", { src: d.opt.path + d.opt.cancelOff, alt: "x", title: d.opt.cancelHint, "class": "raty-cancel" }); if (d.opt.cancelPlace == "left") { h.prepend("&#160;").prepend(d.cancel); } else { h.append("&#160;").append(d.cancel); } f += (d.opt.size + g); } if (d.opt.readOnly) { a.fixHint.call(d); if (d.cancel) { d.cancel.hide(); } } else { h.css("cursor", "pointer"); a.bindAction.call(d); } }); }, between: function (e, d, c) { return Math.min(Math.max(parseFloat(e), d), c); }, bindAction: function () { var c = this, e = b(c); e.mouseleave(function () { var f = c.score.val() || undefined; a.initialize.call(c, f); a.setTarget.call(c, f, c.opt.targetKeep); if (c.opt.mouseover) { c.opt.mouseover.call(c, f); } }); var d = c.opt.half ? "mousemove" : "mouseover"; if (c.opt.cancel) { c.cancel.mouseenter(function () { b(this).attr("src", c.opt.path + c.opt.cancelOn); c.stars.attr("src", c.opt.path + c.opt.starOff); a.setTarget.call(c, null, true); if (c.opt.mouseover) { c.opt.mouseover.call(c, null); } }).mouseleave(function () { b(this).attr("src", c.opt.path + c.opt.cancelOff); if (c.opt.mouseover) { c.opt.mouseover.call(c, c.score.val() || null); } }).click(function (f) { c.score.removeAttr("value"); if (c.opt.click) { c.opt.click.call(c, null, f); } }); } c.stars.bind(d, function (g) { var h = parseInt(this.alt, 10); if (c.opt.half) { var f = parseFloat((g.pageX - b(this).offset().left) / c.opt.size), i = (f > 0.5) ? 1 : 0.5; h = parseFloat(this.alt) - 1 + i; a.fill.call(c, h); if (c.opt.precision) { h = h - i + f; } a.showHalf.call(c, h); } else { a.fill.call(c, h); } e.data("score", h); a.setTarget.call(c, h, true); if (c.opt.mouseover) { c.opt.mouseover.call(c, h, g); } }).click(function (f) { c.score.val((c.opt.half || c.opt.precision) ? e.data("score") : this.alt); if (c.opt.click) { c.opt.click.call(c, c.score.val(), f); } }); }, cancel: function (c) { return b(this).each(function () { var d = this, e = b(d); if (e.data("readonly") === true) { return this; } if (c) { a.click.call(d, null); } else { a.score.call(d, null); } d.score.removeAttr("value"); }); }, click: function (c) { return b(this).each(function () { if (b(this).data("readonly") === true) { return this; } a.initialize.call(this, c); if (this.opt.click) { this.opt.click.call(this, c); } else { a.error.call(this, 'you must add the "click: function(score, evt) { }" callback.'); } a.setTarget.call(this, c, true); }); }, error: function (c) { b(this).html(c); b.error(c); }, fill: function (k) { var c = this, h = c.stars.length, g = 0, d, j, f; for (var e = 1; e <= h; e++) { d = c.stars.eq(e - 1); if (c.opt.iconRange && c.opt.iconRange.length > g) { j = c.opt.iconRange[g]; if (c.opt.single) { f = (e == k) ? (j.on || c.opt.starOn) : (j.off || c.opt.starOff); } else { f = (e <= k) ? (j.on || c.opt.starOn) : (j.off || c.opt.starOff); } if (e <= j.range) { d.attr("src", c.opt.path + f); } if (e == j.range) { g++; } } else { if (c.opt.single) { f = (e == k) ? c.opt.starOn : c.opt.starOff; } else { f = (e <= k) ? c.opt.starOn : c.opt.starOff; } d.attr("src", c.opt.path + f); } } }, fixHint: function () { var c = b(this), e = parseInt(this.score.val(), 10), d = this.opt.noRatedMsg; if (!isNaN(e) && e > 0) { d = (e <= this.opt.hints.length && this.opt.hints[e - 1] !== null) ? this.opt.hints[e - 1] : e; } c.data("readonly", true).css("cursor", "default").attr("title", d); this.score.attr("readonly", "readonly"); this.stars.attr("title", d); }, getScore: function () { var d = [], c; b(this).each(function () { c = this.score.val(); d.push(c ? parseFloat(c) : undefined); }); return (d.length > 1) ? d : d[0]; }, readOnly: function (c) { return this.each(function () { var d = b(this); if (d.data("readonly") === c) { return this; } if (this.cancel) { if (c) { this.cancel.hide(); } else { this.cancel.show(); } } if (c) { d.unbind(); d.children("img").unbind(); a.fixHint.call(this); } else { a.bindAction.call(this); a.unfixHint.call(this); } d.data("readonly", c); }); }, reload: function () { return a.set.call(this, {}); }, roundStar: function (e) { var d = (e - Math.floor(e)).toFixed(2); if (d > this.opt.round.down) { var c = this.opt.starOn; if (d < this.opt.round.up && this.opt.halfShow) { c = this.opt.starHalf; } else { if (d < this.opt.round.full) { c = this.opt.starOff; } } this.stars.eq(Math.ceil(e) - 1).attr("src", this.opt.path + c); } }, score: function () { return arguments.length ? a.setScore.apply(this, arguments) : a.getScore.call(this); }, set: function (c) { this.each(function () { var d = b(this), f = d.data("settings"), e = d.clone().removeAttr("style").insertBefore(d); d.remove(); e.raty(b.extend(f, c)); }); return b(this.selector); }, setScore: function (c) { return b(this).each(function () { if (b(this).data("readonly") === true) { return this; } a.initialize.call(this, c); a.setTarget.call(this, c, true); }); }, setTarget: function (e, d) { if (this.opt.target) { var c = b(this.opt.target); if (c.length == 0) { a.error.call(this, "target selector invalid or missing!"); } var f = e; if (!d || f === undefined) { f = this.opt.targetText; } else { if (this.opt.targetType == "hint") { f = (f === null && this.opt.cancel) ? this.opt.cancelHint : this.opt.hints[Math.ceil(f - 1)]; } else { f = this.opt.precision ? parseFloat(f).toFixed(1) : parseInt(f, 10); } } if (this.opt.targetFormat.indexOf("{score}") < 0) { a.error.call(this, 'template "{score}" missing!'); } if (e !== null) { f = this.opt.targetFormat.toString().replace("{score}", f); } if (c.is(":input")) { c.val(f); } else { c.html(f); } } }, showHalf: function (d) { var c = (d - Math.floor(d)).toFixed(1); if (c > 0 && c < 0.6) { this.stars.eq(Math.ceil(d) - 1).attr("src", this.opt.path + this.opt.starHalf); } }, initialize: function (c) { c = !c ? 0 : a.between(c, 0, this.opt.number); a.fill.call(this, c); if (c > 0) { if (this.opt.halfShow) { a.roundStar.call(this, c); } this.score.val(c); } }, unfixHint: function () { for (var c = 0; c < this.opt.number; c++) { this.stars.eq(c).attr("title", (c < this.opt.hints.length && this.opt.hints[c] !== null) ? this.opt.hints[c] : c); } b(this).data("readonly", false).css("cursor", "pointer").removeAttr("title"); this.score.attr("readonly", "readonly"); } }; b.fn.raty = function (c) { if (a[c]) { return a[c].apply(this, Array.prototype.slice.call(arguments, 1)); } else { if (typeof c === "object" || !c) { return a.init.apply(this, arguments); } else { b.error("Method " + c + " does not exist!"); } } }; b.fn.raty.defaults = { cancel: false, cancelHint: "cancel this rating!", cancelOff: "cancel-off.png", cancelOn: "cancel-on.png", cancelPlace: "left", click: undefined, half: false, halfShow: true, hints: ["bad", "poor", "regular", "good", "gorgeous"], iconRange: undefined, mouseover: undefined, noRatedMsg: "not rated yet", number: 5, path: "img/", precision: false, round: { down: 0.25, full: 0.6, up: 0.76 }, readOnly: false, score: undefined, scoreName: "score", single: false, size: 16, space: true, starHalf: "star-half.png", starOff: "star-off.png", starOn: "star-on.png", target: undefined, targetFormat: "{score}", targetKeep: false, targetText: "", targetType: "hint" }; })(jQuery);

/*
* ScrollToFixed
* https://github.com/bigspotteddog/ScrollToFixed
*
* Copyright (c) 2011 Joseph Cava-Lynch
* MIT license
*/
(function (a) { a.isScrollToFixed = function (b) { return !!a(b).data("ScrollToFixed") }; a.ScrollToFixed = function (d, i) { var m = this; m.$el = a(d); m.el = d; m.$el.data("ScrollToFixed", m); var c = false; var H = m.$el; var I; var F; var k; var e; var z; var E = 0; var r = 0; var j = -1; var f = -1; var u = null; var A; var g; function v() { H.trigger("preUnfixed.ScrollToFixed"); l(); H.trigger("unfixed.ScrollToFixed"); f = -1; E = H.offset().top; r = H.offset().left; if (m.options.offsets) { r += (H.offset().left - H.position().left) } if (j == -1) { j = r } I = H.css("position"); c = true; if (m.options.bottom != -1) { H.trigger("preFixed.ScrollToFixed"); x(); H.trigger("fixed.ScrollToFixed") } } function o() { var J = m.options.limit; if (!J) { return 0 } if (typeof (J) === "function") { return J.apply(H) } return J } function q() { return I === "fixed" } function y() { return I === "absolute" } function h() { return !(q() || y()) } function x() { if (!q()) { var J = H[0].getBoundingClientRect(); u.css({ display: H.css("display"), width: J.width, height: J.height, "float": H.css("float") }); cssOptions = { "z-index": m.options.zIndex, position: "fixed", top: m.options.bottom == -1 ? t() : "", bottom: m.options.bottom == -1 ? "" : m.options.bottom, "margin-left": "0px" }; if (!m.options.dontSetWidth) { cssOptions.width = H.css("width") } H.css(cssOptions); H.addClass(m.options.baseClassName); if (m.options.className) { H.addClass(m.options.className) } I = "fixed" } } function b() { var K = o(); var J = r; if (m.options.removeOffsets) { J = ""; K = K - E } cssOptions = { position: "absolute", top: K, left: J, "margin-left": "0px", bottom: "" }; if (!m.options.dontSetWidth) { cssOptions.width = H.css("width") } H.css(cssOptions); I = "absolute" } function l() { if (!h()) { f = -1; u.css("display", "none"); H.css({ "z-index": z, width: "", position: F, left: "", top: e, "margin-left": "" }); H.removeClass("scroll-to-fixed-fixed"); if (m.options.className) { H.removeClass(m.options.className) } I = null } } function w(J) { if (J != f) { H.css("left", r - J); f = J } } function t() { var J = m.options.marginTop; if (!J) { return 0 } if (typeof (J) === "function") { return J.apply(H) } return J } function B() { if (!a.isScrollToFixed(H) || H.is(":hidden")) { return } var M = c; var L = h(); if (!c) { v() } else { if (h()) { E = H.offset().top; r = H.offset().left } } var J = a(window).scrollLeft(); var N = a(window).scrollTop(); var K = o(); if (m.options.minWidth && a(window).width() < m.options.minWidth) { if (!h() || !M) { p(); H.trigger("preUnfixed.ScrollToFixed"); l(); H.trigger("unfixed.ScrollToFixed") } } else { if (m.options.maxWidth && a(window).width() > m.options.maxWidth) { if (!h() || !M) { p(); H.trigger("preUnfixed.ScrollToFixed"); l(); H.trigger("unfixed.ScrollToFixed") } } else { if (m.options.bottom == -1) { if (K > 0 && N >= K - t()) { if (!L && (!y() || !M)) { p(); H.trigger("preAbsolute.ScrollToFixed"); b(); H.trigger("unfixed.ScrollToFixed") } } else { if (N >= E - t()) { if (!q() || !M) { p(); H.trigger("preFixed.ScrollToFixed"); x(); f = -1; H.trigger("fixed.ScrollToFixed") } w(J) } else { if (!h() || !M) { p(); H.trigger("preUnfixed.ScrollToFixed"); l(); H.trigger("unfixed.ScrollToFixed") } } } } else { if (K > 0) { if (N + a(window).height() - H.outerHeight(true) >= K - (t() || -n())) { if (q()) { p(); H.trigger("preUnfixed.ScrollToFixed"); if (F === "absolute") { b() } else { l() } H.trigger("unfixed.ScrollToFixed") } } else { if (!q()) { p(); H.trigger("preFixed.ScrollToFixed"); x() } w(J); H.trigger("fixed.ScrollToFixed") } } else { w(J) } } } } } function n() { if (!m.options.bottom) { return 0 } return m.options.bottom } function p() { var J = H.css("position"); if (J == "absolute") { H.trigger("postAbsolute.ScrollToFixed") } else { if (J == "fixed") { H.trigger("postFixed.ScrollToFixed") } else { H.trigger("postUnfixed.ScrollToFixed") } } } var D = function (J) { if (H.is(":visible")) { c = false; B() } }; var G = function (J) { (!!window.requestAnimationFrame) ? requestAnimationFrame(B) : B() }; var C = function () { var K = document.body; if (document.createElement && K && K.appendChild && K.removeChild) { var M = document.createElement("div"); if (!M.getBoundingClientRect) { return null } M.innerHTML = "x"; M.style.cssText = "position:fixed;top:100px;"; K.appendChild(M); var N = K.style.height, O = K.scrollTop; K.style.height = "3000px"; K.scrollTop = 500; var J = M.getBoundingClientRect().top; K.style.height = N; var L = (J === 100); K.removeChild(M); K.scrollTop = O; return L } return null }; var s = function (J) { J = J || window.event; if (J.preventDefault) { J.preventDefault() } J.returnValue = false }; m.init = function () { m.options = a.extend({}, a.ScrollToFixed.defaultOptions, i); z = H.css("z-index"); m.$el.css("z-index", m.options.zIndex); u = a("<div />"); I = H.css("position"); F = H.css("position"); k = H.css("float"); e = H.css("top"); if (h()) { m.$el.after(u) } a(window).bind("resize.ScrollToFixed", D); a(window).bind("scroll.ScrollToFixed", G); if ("ontouchmove" in window) { a(window).bind("touchmove.ScrollToFixed", B) } if (m.options.preFixed) { H.bind("preFixed.ScrollToFixed", m.options.preFixed) } if (m.options.postFixed) { H.bind("postFixed.ScrollToFixed", m.options.postFixed) } if (m.options.preUnfixed) { H.bind("preUnfixed.ScrollToFixed", m.options.preUnfixed) } if (m.options.postUnfixed) { H.bind("postUnfixed.ScrollToFixed", m.options.postUnfixed) } if (m.options.preAbsolute) { H.bind("preAbsolute.ScrollToFixed", m.options.preAbsolute) } if (m.options.postAbsolute) { H.bind("postAbsolute.ScrollToFixed", m.options.postAbsolute) } if (m.options.fixed) { H.bind("fixed.ScrollToFixed", m.options.fixed) } if (m.options.unfixed) { H.bind("unfixed.ScrollToFixed", m.options.unfixed) } if (m.options.spacerClass) { u.addClass(m.options.spacerClass) } H.bind("resize.ScrollToFixed", function () { u.height(H.height()) }); H.bind("scroll.ScrollToFixed", function () { H.trigger("preUnfixed.ScrollToFixed"); l(); H.trigger("unfixed.ScrollToFixed"); B() }); H.bind("detach.ScrollToFixed", function (J) { s(J); H.trigger("preUnfixed.ScrollToFixed"); l(); H.trigger("unfixed.ScrollToFixed"); a(window).unbind("resize.ScrollToFixed", D); a(window).unbind("scroll.ScrollToFixed", G); H.unbind(".ScrollToFixed"); u.remove(); m.$el.removeData("ScrollToFixed") }); D() }; m.init() }; a.ScrollToFixed.defaultOptions = { marginTop: 0, limit: 0, bottom: -1, zIndex: 1000, baseClassName: "scroll-to-fixed-fixed" }; a.fn.scrollToFixed = function (b) { return this.each(function () { (new a.ScrollToFixed(this, b)) }) } })(jQuery);